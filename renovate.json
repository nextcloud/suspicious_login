{
	"$schema": "https://docs.renovatebot.com/renovate-schema.json",
	"extends": [
		"config:base",
		"helpers:pinGitHubActionDigests",
		":semanticCommits",
		":dependencyDashboard"
	],
	"timezone": "Europe/Vienna",
	"schedule": [
		"before 5am on thursday"
	],
	"reviewers": [
		"@ChristophWurst"
	],
	"prConcurrentLimit": 3,
	"labels": [
		"dependencies"
	],
	"rangeStrategy": "bump",
	"rebaseWhen": "conflicted",
	"ignoreUnstable": false,
	"baseBranches": [
		"master",
		"stable31",
		"stable30",
		"stable29",
		"stable28"
	],
	"enabledManagers": [
		"composer",
		"github-actions"
	],
	"ignorePaths": [
		".github/workflows/block-merge-freeze.yml",
		".github/workflows/fixup.yml",
		".github/workflows/lint-info-xml.yml",
		".github/workflows/lint-php.yml",
		".github/workflows/lint-php-cs.yml",
		".github/workflows/npm-audit-fix.yml",
		".github/workflows/phpunit-mariadb.yml",
		".github/workflows/phpunit-pgsql.yml",
		".github/workflows/phpunit-sqlite.yml",
		".github/workflows/pr-feedback.yml",
		".github/workflows/psalm.yml",
		".github/workflows/reuse.yml"
	],
	"packageRules": [
		{
			"matchUpdateTypes": ["minor", "patch"],
			"matchCurrentVersion": "!/^0/",
			"automerge": true,
			"automergeType": "pr",
			"platformAutomerge": true
		},
		{
			"description": "Disable regular bumps for stable branches",
			"enabled": false,
			"matchBaseBranches": "/^stable(.)+/"
		},
		{
			"description": "Bump Github actions monthly",
			"matchManagers": ["github-actions"],
			"extends": ["schedule:monthly"]
		},
		{
			"description": "Allow Github action minor/patch updates for stable branches",
			"matchManagers": ["github-actions"],
			"matchUpdateTypes": ["minor", "patch"],
			"matchBaseBranches": [
				"stable32",
				"stable31",
				"stable30",
				"stable29",
				"stable28"
			],
			"extends": ["schedule:monthly"]
		},
		{
			"matchBaseBranches": ["master"],
			"matchDepTypes": ["devDependencies"],
			"extends": ["schedule:monthly"]
		},
		{
			"groupName": "AMPHP",
			"matchPackagePrefixes": [
				"amphp"
			],
			"matchManagers": [
				"composer"
			]
		}
	],
	"vulnerabilityAlerts": {
		"enabled": true,
		"semanticCommitType": "fix",
		"schedule": "before 7am every weekday",
		"dependencyDashboardApproval": false,
		"commitMessageSuffix": ""
	},
	"osvVulnerabilityAlerts": true
}
